@page
@using TurismoNeuquen.Models
@model TurismoNeuquen.Pages.AddAttractionModel

<h1>Añadir Atracción</h1>

<form method="post">
    <input type="number" name="id" placeholder="ID" required />
    <input type="text" name="name" placeholder="Nombre" required />
    <input type="text" name="description" placeholder="Descripción" required />

    <h3>Tipo de Atracción</h3>
    <label>
        <input type="radio" name="attractionType" value="Event" required />
        Evento
    </label>
    <label>
        <input type="radio" name="attractionType" value="PointOfInterest" required />
        Punto de Interés
    </label>

    <div id="eventFields" style="display:none;">
        <h3>Detalles del Evento</h3>
        <label>
            Fecha de Inicio:
            <input type="datetime-local" name="eventDateBegin" required />
        </label>
        <label>
            Fecha de Fin:
            <input type="datetime-local" name="eventDateEnd" required />
        </label>
    </div>

    <div id="pointOfInterestFields" style="display:none;">
        <h3>Detalles del Punto de Interés</h3>
        <label>
            Días de Apertura (separados por comas):
            <input type="text" name="openDays" />
        </label>
        <label>
            Hora de Apertura:
            <input type="time" name="openingTime" />
        </label>
        <label>
            Hora de Cierre:
            <input type="time" name="closingTime" />
        </label>
    </div>

    <!-- Latitude and Longitude Fields -->
    <label>
        Latitud:
        <input type="number" step="any" name="latitude" placeholder="Latitud" required />
    </label>
    <label>
        Longitud:
        <input type="number" step="any" name="longitude" placeholder="Longitud" required />
    </label>

    <button type="submit">Añadir</button>
</form>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
        </tr>
    </thead>
    <tbody>
        @foreach (Attraction attraction in Model.ListOfAtractions)
        {
            <tr>
                <td>@attraction.Id</td>
                <td>@attraction.Name</td>
                <td>@attraction.Description</td>
            </tr>
        }
    </tbody>
</table>

@section Scripts {
    <script>
        const radios = document.querySelectorAll('input[name="attractionType"]');
        radios.forEach(radio => {
            radio.addEventListener('change', function () {
                document.getElementById('eventFields').style.display = this.value === 'Event' ? 'block' : 'none';
                document.getElementById('pointOfInterestFields').style.display = this.value === 'PointOfInterest' ? 'block' : 'none';
            });
        });
    </script>
}